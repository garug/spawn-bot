name: spawn-tick

on:
  workflow_dispatch: {}
  schedule:
    - cron: "* * * * *"

jobs:
  tick:
    runs-on: ubuntu-latest
    environment: prod
    steps:
      - name: Call spawn endpoint
        run: |
          curl -sS -X POST "$SPAWN_URL" \
            -H "x-cron-key: $CRON_KEY"
        env:
          SPAWN_URL: ${{ secrets.SPAWN_URL }}
          CRON_KEY: ${{ secrets.CRON_KEY }}
